import "./styles.css";

function main(str) {
  const result = [];
  let prefix = "";
  let answer = -1;

  const permutations = getPermutationsInString(str, prefix, result, str.length);

  for (var i = 0; i < permutations.length; i++) {
    if (isPalindrome(permutations[i]) === 1) {
      answer = 1;
      break;
    }
  }

  return answer;
}

function getPermutationsInString(remainingStr, prefix, result, maxLength) {
  if (remainingStr.length > 2) {
    for (var j = 0; j < remainingStr.length; j++) {
      if (remainingStr.length === maxLength) prefix = "";
      var strArrAux = remainingStr.split("");
      var spliced = strArrAux.splice(j, 1);
      var remainingElements = strArrAux.join("");
      getPermutationsInString(
        remainingElements,
        prefix + spliced,
        result,
        maxLength
      );
    }
  } else {
    result.push(prefix + remainingStr);
    result.push(
      prefix +
        remainingStr
          .split("")
          .reverse()
          .join("")
    );
  }

  return result;
}

function isPalindrome(str) {
  var resp = -1;
  for (var i = 0; i < str.length / 2; i++) {
    if (str[i] === str[str.length - i - 1]) {
      resp = 1;
    } else {
      return -1;
    }
  }
  return resp;
}

document.getElementById("app").innerHTML = main("adsadf");
